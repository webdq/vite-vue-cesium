define(["exports","./Matrix2-fb98ca95","./defaultValue-69ee94f4","./RuntimeError-ac440aa5","./Transforms-f586e93e","./ComponentDatatype-7ed489c0"],(function(t,n,a,e,o,r){"use strict";const s=Math.cos,i=Math.sin,c=Math.sqrt,h={computePosition:function(t,n,e,o,r,h,u){const g=n.radiiSquared,l=t.nwCorner,C=t.boundingRectangle;let d=l.latitude-t.granYCos*o+r*t.granXSin;const M=s(d),S=i(d),w=g.z*S;let m=l.longitude+o*t.granYSin+r*t.granXCos;const f=M*s(m),p=M*i(m),R=g.x*f,X=g.y*p,Y=c(R*f+X*p+w*S);if(h.x=R/Y,h.y=X/Y,h.z=w/Y,e){const n=t.stNwCorner;a.defined(n)?(d=n.latitude-t.stGranYCos*o+r*t.stGranXSin,m=n.longitude+o*t.stGranYSin+r*t.stGranXCos,u.x=(m-t.stWest)*t.lonScalar,u.y=(d-t.stSouth)*t.latScalar):(u.x=(m-C.west)*t.lonScalar,u.y=(d-C.south)*t.latScalar)}}},u=new n.Matrix2;let g=new n.Cartesian3;const l=new n.Cartographic;let C=new n.Cartesian3;const d=new o.GeographicProjection;function M(t,a,e,o,r,s,i){const c=Math.cos(a),h=o*c,l=e*c,M=Math.sin(a),S=o*M,w=e*M;g=d.project(t,g),g=n.Cartesian3.subtract(g,C,g);const m=n.Matrix2.fromRotation(a,u);g=n.Matrix2.multiplyByVector(m,g,g),g=n.Cartesian3.add(g,C,g),s-=1,i-=1;const f=(t=d.unproject(g,t)).latitude,p=f+s*w,R=f-h*i,X=f-h*i+s*w,Y=Math.max(f,p,R,X),O=Math.min(f,p,R,X),_=t.longitude,x=_+s*l,G=_+i*S,P=_+i*S+s*l;return{north:Y,south:O,east:Math.max(_,x,G,P),west:Math.min(_,x,G,P),granYCos:h,granYSin:S,granXCos:l,granXSin:w,nwCorner:t}}h.computeOptions=function(t,a,o,s,i,c,h){let u,g=t.east,S=t.west,w=t.north,m=t.south,f=!1,p=!1;w===r.CesiumMath.PI_OVER_TWO&&(f=!0),m===-r.CesiumMath.PI_OVER_TWO&&(p=!0);const R=w-m;u=S>g?r.CesiumMath.TWO_PI-S+g:g-S;const X=Math.ceil(u/a)+1,Y=Math.ceil(R/a)+1,O=u/(X-1),_=R/(Y-1),x=n.Rectangle.northwest(t,c),G=n.Rectangle.center(t,l);0===o&&0===s||(G.longitude<x.longitude&&(G.longitude+=r.CesiumMath.TWO_PI),C=d.project(G,C));const P=_,W=O,y=n.Rectangle.clone(t,i),I={granYCos:P,granYSin:0,granXCos:W,granXSin:0,nwCorner:x,boundingRectangle:y,width:X,height:Y,northCap:f,southCap:p};if(0!==o){const t=M(x,o,O,_,0,X,Y);if(w=t.north,m=t.south,g=t.east,S=t.west,w<-r.CesiumMath.PI_OVER_TWO||w>r.CesiumMath.PI_OVER_TWO||m<-r.CesiumMath.PI_OVER_TWO||m>r.CesiumMath.PI_OVER_TWO)throw new e.DeveloperError("Rotated rectangle is invalid.  It crosses over either the north or south pole.");I.granYCos=t.granYCos,I.granYSin=t.granYSin,I.granXCos=t.granXCos,I.granXSin=t.granXSin,y.north=w,y.south=m,y.east=g,y.west=S}if(0!==s){o-=s;const t=n.Rectangle.northwest(y,h),a=M(t,o,O,_,0,X,Y);I.stGranYCos=a.granYCos,I.stGranXCos=a.granXCos,I.stGranYSin=a.granYSin,I.stGranXSin=a.granXSin,I.stNwCorner=t,I.stWest=a.west,I.stSouth=a.south}return I},t.RectangleGeometryLibrary=h}));
//# sourceMappingURL=RectangleGeometryLibrary-97f11c89.js.map
